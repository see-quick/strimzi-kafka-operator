{"#meta":{"format":"ITF","format-description":"https://apalache-mc.org/docs/adr/015adr-trace.html","source":"UserOperatorModel.qnt","status":"ok","description":"Created by Quint on Tue Apr 29 2025 19:50:47 GMT+0200 (Central European Summer Time)","timestamp":1745949047700},"vars":["parameters","globalState","mbt::actionTaken","mbt::nondetPicks"],"states":[{"#meta":{"index":0},"globalState":{"eventQueue":[],"processedEvents":{"#bigint":"0"},"secrets":{"#set":[]},"users":{"#map":[]}},"mbt::actionTaken":"init","mbt::nondetPicks":{"acl":{"tag":"Some","value":true},"authType":{"tag":"None","value":{"#tup":[]}},"quotasEnabled":{"tag":"None","value":{"#tup":[]}},"u":{"tag":"None","value":{"#tup":[]}}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}},{"#meta":{"index":1},"globalState":{"eventQueue":[],"processedEvents":{"#bigint":"0"},"secrets":{"#set":[]},"users":{"#map":[]}},"mbt::actionTaken":"deleteUser","mbt::nondetPicks":{"acl":{"tag":"None","value":{"#tup":[]}},"authType":{"tag":"None","value":{"#tup":[]}},"quotasEnabled":{"tag":"None","value":{"#tup":[]}},"u":{"tag":"Some","value":"Alice"}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}},{"#meta":{"index":2},"globalState":{"eventQueue":[],"processedEvents":{"#bigint":"0"},"secrets":{"#set":[]},"users":{"#map":[]}},"mbt::actionTaken":"updateUser","mbt::nondetPicks":{"acl":{"tag":"None","value":{"#tup":[]}},"authType":{"tag":"Some","value":"scram-sha-512"},"quotasEnabled":{"tag":"Some","value":true},"u":{"tag":"Some","value":"Bob"}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}},{"#meta":{"index":3},"globalState":{"eventQueue":[],"processedEvents":{"#bigint":"0"},"secrets":{"#set":[]},"users":{"#map":[]}},"mbt::actionTaken":"processNextEvent","mbt::nondetPicks":{"acl":{"tag":"None","value":{"#tup":[]}},"authType":{"tag":"None","value":{"#tup":[]}},"quotasEnabled":{"tag":"None","value":{"#tup":[]}},"u":{"tag":"None","value":{"#tup":[]}}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}},{"#meta":{"index":4},"globalState":{"eventQueue":[{"tag":"UserCreatedWithSecret","value":{"metadata":{"name":"Carol"},"spec":{"authentication":{"tag":"ScramSha512Authentication","value":{"optional":false,"secretKey":"my-password","secretName":"Carol"}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"0"},"controllerMutationRate":{"#bigint":"0"},"producerByteRate":{"#bigint":"0"},"requestPercentage":{"#bigint":"0"}}},"status":{"conditions":{"status":"Pending"}}}}],"processedEvents":{"#bigint":"0"},"secrets":{"#set":[]},"users":{"#map":[]}},"mbt::actionTaken":"createUser","mbt::nondetPicks":{"acl":{"tag":"None","value":{"#tup":[]}},"authType":{"tag":"Some","value":"scram-sha-512"},"quotasEnabled":{"tag":"Some","value":false},"u":{"tag":"Some","value":"Carol"}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}},{"#meta":{"index":5},"globalState":{"eventQueue":[{"tag":"UserCreatedWithSecret","value":{"metadata":{"name":"Carol"},"spec":{"authentication":{"tag":"ScramSha512Authentication","value":{"optional":false,"secretKey":"my-password","secretName":"Carol"}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"0"},"controllerMutationRate":{"#bigint":"0"},"producerByteRate":{"#bigint":"0"},"requestPercentage":{"#bigint":"0"}}},"status":{"conditions":{"status":"Pending"}}}}],"processedEvents":{"#bigint":"0"},"secrets":{"#set":[]},"users":{"#map":[]}},"mbt::actionTaken":"updateUser","mbt::nondetPicks":{"acl":{"tag":"None","value":{"#tup":[]}},"authType":{"tag":"Some","value":"scram-sha-512"},"quotasEnabled":{"tag":"Some","value":true},"u":{"tag":"Some","value":"Bob"}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}},{"#meta":{"index":6},"globalState":{"eventQueue":[],"processedEvents":{"#bigint":"1"},"secrets":{"#set":["Carol"]},"users":{"#map":[["Carol",{"metadata":{"name":"Carol"},"spec":{"authentication":{"tag":"ScramSha512Authentication","value":{"optional":false,"secretKey":"my-password","secretName":"Carol"}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"0"},"controllerMutationRate":{"#bigint":"0"},"producerByteRate":{"#bigint":"0"},"requestPercentage":{"#bigint":"0"}}},"status":{"conditions":{"status":"Ready"}}}]]}},"mbt::actionTaken":"processNextEvent","mbt::nondetPicks":{"acl":{"tag":"None","value":{"#tup":[]}},"authType":{"tag":"None","value":{"#tup":[]}},"quotasEnabled":{"tag":"None","value":{"#tup":[]}},"u":{"tag":"None","value":{"#tup":[]}}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}},{"#meta":{"index":7},"globalState":{"eventQueue":[],"processedEvents":{"#bigint":"1"},"secrets":{"#set":["Carol"]},"users":{"#map":[["Carol",{"metadata":{"name":"Carol"},"spec":{"authentication":{"tag":"ScramSha512Authentication","value":{"optional":false,"secretKey":"my-password","secretName":"Carol"}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"0"},"controllerMutationRate":{"#bigint":"0"},"producerByteRate":{"#bigint":"0"},"requestPercentage":{"#bigint":"0"}}},"status":{"conditions":{"status":"Ready"}}}]]}},"mbt::actionTaken":"updateUser","mbt::nondetPicks":{"acl":{"tag":"None","value":{"#tup":[]}},"authType":{"tag":"Some","value":"tls"},"quotasEnabled":{"tag":"Some","value":true},"u":{"tag":"Some","value":"Bob"}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}},{"#meta":{"index":8},"globalState":{"eventQueue":[{"tag":"UserCreatedWithSecret","value":{"metadata":{"name":"Bob"},"spec":{"authentication":{"tag":"TlsAuthentication","value":{"enabled":true}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"0"},"controllerMutationRate":{"#bigint":"0"},"producerByteRate":{"#bigint":"0"},"requestPercentage":{"#bigint":"0"}}},"status":{"conditions":{"status":"Pending"}}}}],"processedEvents":{"#bigint":"1"},"secrets":{"#set":["Carol"]},"users":{"#map":[["Carol",{"metadata":{"name":"Carol"},"spec":{"authentication":{"tag":"ScramSha512Authentication","value":{"optional":false,"secretKey":"my-password","secretName":"Carol"}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"0"},"controllerMutationRate":{"#bigint":"0"},"producerByteRate":{"#bigint":"0"},"requestPercentage":{"#bigint":"0"}}},"status":{"conditions":{"status":"Ready"}}}]]}},"mbt::actionTaken":"createUser","mbt::nondetPicks":{"acl":{"tag":"None","value":{"#tup":[]}},"authType":{"tag":"Some","value":"tls"},"quotasEnabled":{"tag":"Some","value":false},"u":{"tag":"Some","value":"Bob"}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}},{"#meta":{"index":9},"globalState":{"eventQueue":[{"tag":"UserCreatedWithSecret","value":{"metadata":{"name":"Bob"},"spec":{"authentication":{"tag":"TlsAuthentication","value":{"enabled":true}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"0"},"controllerMutationRate":{"#bigint":"0"},"producerByteRate":{"#bigint":"0"},"requestPercentage":{"#bigint":"0"}}},"status":{"conditions":{"status":"Pending"}}}},{"tag":"UserDeleted","value":"Carol"}],"processedEvents":{"#bigint":"1"},"secrets":{"#set":["Carol"]},"users":{"#map":[["Carol",{"metadata":{"name":"Carol"},"spec":{"authentication":{"tag":"ScramSha512Authentication","value":{"optional":false,"secretKey":"my-password","secretName":"Carol"}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"0"},"controllerMutationRate":{"#bigint":"0"},"producerByteRate":{"#bigint":"0"},"requestPercentage":{"#bigint":"0"}}},"status":{"conditions":{"status":"Ready"}}}]]}},"mbt::actionTaken":"deleteUser","mbt::nondetPicks":{"acl":{"tag":"None","value":{"#tup":[]}},"authType":{"tag":"None","value":{"#tup":[]}},"quotasEnabled":{"tag":"None","value":{"#tup":[]}},"u":{"tag":"Some","value":"Carol"}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}},{"#meta":{"index":10},"globalState":{"eventQueue":[{"tag":"UserCreatedWithSecret","value":{"metadata":{"name":"Bob"},"spec":{"authentication":{"tag":"TlsAuthentication","value":{"enabled":true}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"0"},"controllerMutationRate":{"#bigint":"0"},"producerByteRate":{"#bigint":"0"},"requestPercentage":{"#bigint":"0"}}},"status":{"conditions":{"status":"Pending"}}}},{"tag":"UserDeleted","value":"Carol"},{"tag":"UserCreatedWithSecret","value":{"metadata":{"name":"Carol"},"spec":{"authentication":{"tag":"ScramSha512Authentication","value":{"optional":false,"secretKey":"my-password","secretName":"Carol"}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"200"},"controllerMutationRate":{"#bigint":"5"},"producerByteRate":{"#bigint":"100"},"requestPercentage":{"#bigint":"50"}}},"status":{"conditions":{"status":"Pending"}}}}],"processedEvents":{"#bigint":"1"},"secrets":{"#set":["Carol"]},"users":{"#map":[["Carol",{"metadata":{"name":"Carol"},"spec":{"authentication":{"tag":"ScramSha512Authentication","value":{"optional":false,"secretKey":"my-password","secretName":"Carol"}},"authorization":{"acls":{"#set":[{"host":"*","kind":"allow","operation":{"tag":"Read","value":{"#tup":[]}},"resource":{"name":"*","patternType":{"tag":"literal","value":{"#tup":[]}},"typeAcl":{"tag":"topic","value":{"#tup":[]}}}}]},"typeAuthz":"simple"},"quotas":{"consumerByteRate":{"#bigint":"0"},"controllerMutationRate":{"#bigint":"0"},"producerByteRate":{"#bigint":"0"},"requestPercentage":{"#bigint":"0"}}},"status":{"conditions":{"status":"Ready"}}}]]}},"mbt::actionTaken":"createUser","mbt::nondetPicks":{"acl":{"tag":"None","value":{"#tup":[]}},"authType":{"tag":"Some","value":"scram-sha-512"},"quotasEnabled":{"tag":"Some","value":true},"u":{"tag":"Some","value":"Carol"}},"parameters":{"aclsEnabled":true,"maxProcessedEvents":{"#bigint":"1000"},"potentialUsers":{"#set":["Alice","Bob","Carol"]}}}]}